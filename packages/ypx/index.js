Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.YPX = YPX;
exports.default = void 0;

var _crossSpawnExtra = _interopRequireDefault(require("cross-spawn-extra"));

var _createTemporaryDirectory = _interopRequireDefault(require("./lib/createTemporaryDirectory"));

var _fsExtra = require("fs-extra");

var _findCommand = _interopRequireDefault(require("./lib/findCommand"));

var _initTemporaryPackage = _interopRequireDefault(require("./lib/initTemporaryPackage"));

var _handleOptions = _interopRequireDefault(require("./lib/handleOptions"));

var _handleEnv = _interopRequireDefault(require("./lib/handleEnv"));

var _installDependencies = _interopRequireDefault(require("./lib/installDependencies"));

var _util = require("util");

var _logger = _interopRequireDefault(require("./lib/logger"));

var _binExists = _interopRequireDefault(require("bin-exists"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

async function YPX(_argv, inputArgv) {
  var _argv$package, _argv$_$;

  let argv = _argv;

  if (!((_argv$package = argv.package) === null || _argv$package === void 0 ? void 0 : _argv$package.length)) {
    throw new Error(`package name is need`);
  }

  argv = await (0, _handleOptions.default)(argv);

  if (argv._.length > 1) {
    throw new Error(`command not invalid, ${argv._}`);
  }

  let runtime = {
    tmpDir: await (0, _createTemporaryDirectory.default)(),
    created: false,
    skipInstall: {},
    console: (0, _logger.default)(argv)
  };
  const consoleShow = (0, _logger.default)({ ...argv,
    quiet: false
  });
  const {
    console
  } = runtime;
  let label = 'ypx';
  console.time(label);
  console.time(`installed`);
  await (0, _initTemporaryPackage.default)(runtime.tmpDir).tapCatch(e => {
    console.error(`failed create temp package, ${runtime.tmpDir}`);
  });
  await (0, _installDependencies.default)(argv, runtime);

  if (Object.keys(runtime.skipInstall).length) {
    console.info(`skip install`, (0, _util.inspect)(runtime.skipInstall), `or maybe u wanna use --ignore-existing`);
  }

  console.timeEnd(`installed`);
  let command = (_argv$_$ = argv._[0]) !== null && _argv$_$ !== void 0 ? _argv$_$ : argv.package[argv.package.length - 1];
  let cmd_exists;

  if (!(command in runtime.skipInstall)) {
    await (0, _findCommand.default)(command, runtime.tmpDir).catch(err => null).then(bin => {
      if (bin) {
        command = bin;
        cmd_exists = true;
      } else {
        cmd_exists = false;
      }
    });
  }

  if (!cmd_exists) {
    await (0, _binExists.default)(command).catch(e => null).then(bool => {
      if (bool) {
        consoleShow.warn(`found command '${command}', but it maybe not a module bin`);
      } else {
        consoleShow.warn(`command not found: ${command}, maybe will not callable`);
      }
    });
  }

  let env = runtime.env = await (0, _handleEnv.default)(argv, runtime);
  console.time(`exec`);
  console.debug(`[CWD]`, argv.cwd);
  console.debug(`[EXEC]`, command, argv['--']);
  await (0, _crossSpawnExtra.default)(command, argv['--'], {
    stdio: 'inherit',
    env,
    cwd: argv.cwd
  }).catch(e => {
    if (e.code === 'ENOENT') {
      consoleShow.magenta.error(`command not found: ${command}`);
      console.timeEnd(`exec`);
      console.timeEnd(label);
      process.exit(1);
    }

    return Promise.reject(e);
  });
  console.timeEnd(`exec`);
  console.time(`remove temp package`);
  await (0, _fsExtra.remove)(runtime.tmpDir);
  console.timeEnd(`remove temp package`);
  console.timeEnd(label);
}

var _default = YPX;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbIllQWCIsIl9hcmd2IiwiaW5wdXRBcmd2IiwiYXJndiIsInBhY2thZ2UiLCJsZW5ndGgiLCJFcnJvciIsIl8iLCJydW50aW1lIiwidG1wRGlyIiwiY3JlYXRlZCIsInNraXBJbnN0YWxsIiwiY29uc29sZSIsImNvbnNvbGVTaG93IiwicXVpZXQiLCJsYWJlbCIsInRpbWUiLCJ0YXBDYXRjaCIsImUiLCJlcnJvciIsIk9iamVjdCIsImtleXMiLCJpbmZvIiwidGltZUVuZCIsImNvbW1hbmQiLCJjbWRfZXhpc3RzIiwiY2F0Y2giLCJlcnIiLCJ0aGVuIiwiYmluIiwiYm9vbCIsIndhcm4iLCJlbnYiLCJkZWJ1ZyIsImN3ZCIsInN0ZGlvIiwiY29kZSIsIm1hZ2VudGEiLCJwcm9jZXNzIiwiZXhpdCIsIlByb21pc2UiLCJyZWplY3QiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUlBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBR08sZUFBZUEsR0FBZixDQUFtQkMsS0FBbkIsRUFBOENDLFNBQTlDLEVBQ1A7QUFBQTs7QUFDQyxNQUFJQyxJQUFJLEdBQUdGLEtBQVg7O0FBRUEsTUFBSSxtQkFBQ0UsSUFBSSxDQUFDQyxPQUFOLGtEQUFDLGNBQWNDLE1BQWYsQ0FBSixFQUNBO0FBQ0MsVUFBTSxJQUFJQyxLQUFKLENBQVcsc0JBQVgsQ0FBTjtBQUNBOztBQUVESCxFQUFBQSxJQUFJLEdBQUcsTUFBTSw0QkFBY0EsSUFBZCxDQUFiOztBQUVBLE1BQUlBLElBQUksQ0FBQ0ksQ0FBTCxDQUFPRixNQUFQLEdBQWdCLENBQXBCLEVBQ0E7QUFDQyxVQUFNLElBQUlDLEtBQUosQ0FBVyx3QkFBdUJILElBQUksQ0FBQ0ksQ0FBRSxFQUF6QyxDQUFOO0FBQ0E7O0FBRUQsTUFBSUMsT0FBc0IsR0FBRztBQUM1QkMsSUFBQUEsTUFBTSxFQUFFLE1BQU0sd0NBRGM7QUFFNUJD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QUFFMUNILElBQUFBLEdBRjBDO0FBRzFDRSxJQUFBQSxHQUFHLEVBQUUvQixJQUFJLENBQUMrQjtBQUhnQyxHQUFyQyxFQUtKUixLQUxJLENBS0VSLENBQUMsSUFBSTtBQUVYLFFBQUlBLENBQUMsQ0FBQ2tCLElBQUYsS0FBVyxRQUFmLEVBQ0E7QUFDQ3ZCLE1BQUFBLFdBQVcsQ0FBQ3dCLE9BQVosQ0FBb0JsQixLQUFwQixDQUEyQixzQkFBcUJLLE9BQVEsRUFBeEQ7QUFFQVosTUFBQUEsT0FBTyxDQUFDVyxPQUFSLENBQWlCLE1BQWpCO0FBQ0FYLE1BQUFBLE9BQU8sQ0FBQ1csT0FBUixDQUFnQlIsS0FBaEI7QUFDQXVCLE1BQUFBLE9BQU8sQ0FBQ0MsSUFBUixDQUFhLENBQWI7QUFDQTs7QUFFRCxXQUFPQyxPQUFPLENBQUNDLE1BQVIsQ0FBZXZCLENBQWYsQ0FBUDtBQUNBLEdBakJJLENBQU47QUFvQkFOLEVBQUFBLE9BQU8sQ0FBQ1csT0FBUixDQUFpQixNQUFqQjtBQUVBWCxFQUFBQSxPQUFPLENBQUNJLElBQVIsQ0FBYyxxQkFBZDtBQUNBLFFBQU0scUJBQU9SLE9BQU8sQ0FBQ0MsTUFBZixDQUFOO0FBQ0FHLEVBQUFBLE9BQU8sQ0FBQ1csT0FBUixDQUFpQixxQkFBakI7QUFFQVgsRUFBQUEsT0FBTyxDQUFDVyxPQUFSLENBQWdCUixLQUFoQjtBQUNBOztlQUVjZixHIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IHVzZXIgb24gMjAyMC8xLzI4LlxuICovXG5cbmltcG9ydCBjcm9zc1NwYXduRXh0cmEgZnJvbSAnY3Jvc3Mtc3Bhd24tZXh0cmEnO1xuaW1wb3J0IGNyZWF0ZVRlbXBvcmFyeURpcmVjdG9yeSBmcm9tICcuL2xpYi9jcmVhdGVUZW1wb3JhcnlEaXJlY3RvcnknO1xuaW1wb3J0IHsgcmVtb3ZlIH0gZnJvbSAnZnMtZXh0cmEnO1xuaW1wb3J0IGZpbmRDb21tYW5kIGZyb20gJy4vbGliL2ZpbmRDb21tYW5kJztcbmltcG9ydCBpbml0VGVtcG9yYXJ5UGFja2FnZSBmcm9tICcuL2xpYi9pbml0VGVtcG9yYXJ5UGFja2FnZSc7XG5pbXBvcnQgeyBJWVBYQXJndW1lbnRzSW5wdXQsIElSdW50aW1lQ2FjaGUsIElZUFhBcmd1bWVudHMgfSBmcm9tICcuL2xpYi90eXBlcyc7XG5pbXBvcnQgaGFuZGxlT3B0aW9ucyBmcm9tICcuL2xpYi9oYW5kbGVPcHRpb25zJztcbmltcG9ydCBoYW5kbGVFbnYgZnJvbSAnLi9saWIvaGFuZGxlRW52JztcbmltcG9ydCBpbnN0YWxsRGVwZW5kZW5jaWVzIGZyb20gJy4vbGliL2luc3RhbGxEZXBlbmRlbmNpZXMnO1xuaW1wb3J0IHsgaW5zcGVjdCB9IGZyb20gJ3V0aWwnO1xuaW1wb3J0IG5ld0xvZ2dlciBmcm9tICcuL2xpYi9sb2dnZXInO1xuaW1wb3J0IGJpbkV4aXN0cyBmcm9tICdiaW4tZXhpc3RzJztcbmltcG9ydCBCbHVlYmlyZCBmcm9tICdibHVlYmlyZCc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBZUFgoX2FyZ3Y6IElZUFhBcmd1bWVudHNJbnB1dCwgaW5wdXRBcmd2Pzogc3RyaW5nW10pXG57XG5cdGxldCBhcmd2ID0gX2FyZ3YgYXMgUmVxdWlyZWQ8SVlQWEFyZ3VtZW50cz47XG5cblx0aWYgKCFhcmd2LnBhY2thZ2U/Lmxlbmd0aClcblx0e1xuXHRcdHRocm93IG5ldyBFcnJvcihgcGFja2FnZSBuYW1lIGlzIG5lZWRgKVxuXHR9XG5cblx0YXJndiA9IGF3YWl0IGhhbmRsZU9wdGlvbnMoYXJndik7XG5cblx0aWYgKGFyZ3YuXy5sZW5ndGggPiAxKVxuXHR7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGBjb21tYW5kIG5vdCBpbnZhbGlkLCAke2FyZ3YuX31gKVxuXHR9XG5cblx0bGV0IHJ1bnRpbWU6IElSdW50aW1lQ2FjaGUgPSB7XG5cdFx0dG1wRGlyOiBhd2FpdCBjcmVhdGVUZW1wb3JhcnlEaXJlY3RvcnkoKSxcblx0XHRjcmVhdGVkOiBmYWxzZSxcblx0XHRza2lwSW5zdGFsbDoge30sXG5cdFx0Y29uc29sZTogbmV3TG9nZ2VyKGFyZ3YpLFxuXHR9O1xuXG5cdGNvbnN0IGNvbnNvbGVTaG93ID0gbmV3TG9nZ2VyKHtcblx0XHQuLi5hcmd2LFxuXHRcdHF1aWV0OiBmYWxzZSxcblx0fSk7XG5cblx0Y29uc3QgeyBjb25zb2xlIH0gPSBydW50aW1lO1xuXG5cdGxldCBsYWJlbCA9ICd5cHgnO1xuXG5cdGNvbnNvbGUudGltZShsYWJlbCk7XG5cdGNvbnNvbGUudGltZShgaW5zdGFsbGVkYCk7XG5cblx0YXdhaXQgaW5pdFRlbXBvcmFyeVBhY2thZ2UocnVudGltZS50bXBEaXIpXG5cdFx0LnRhcENhdGNoKGUgPT5cblx0XHR7XG5cdFx0XHRjb25zb2xlLmVycm9yKGBmYWlsZWQgY3JlYXRlIHRlbXAgcGFja2FnZSwgJHtydW50aW1lLnRtcERpcn1gKVxuXHRcdH0pXG5cdDtcblxuXHQvL2NvbnNvbGUuZGlyKGFyZ3YpO1xuXG5cdGF3YWl0IGluc3RhbGxEZXBlbmRlbmNpZXMoYXJndiwgcnVudGltZSk7XG5cblx0aWYgKE9iamVjdC5rZXlzKHJ1bnRpbWUuc2tpcEluc3RhbGwpLmxlbmd0aClcblx0e1xuXHRcdGNvbnNvbGUuaW5mbyhgc2tpcCBpbnN0YWxsYCwgaW5zcGVjdChydW50aW1lLnNraXBJbnN0YWxsKSwgYG9yIG1heWJlIHUgd2FubmEgdXNlIC0taWdub3JlLWV4aXN0aW5nYClcblx0fVxuXG5cdGNvbnNvbGUudGltZUVuZChgaW5zdGFsbGVkYCk7XG5cblx0bGV0IGNvbW1hbmQgPSBhcmd2Ll9bMF0gPz8gYXJndi5wYWNrYWdlW2FyZ3YucGFja2FnZS5sZW5ndGggLSAxXTtcblx0bGV0IGNtZF9leGlzdHM6IGJvb2xlYW47XG5cblx0aWYgKCEoY29tbWFuZCBpbiBydW50aW1lLnNraXBJbnN0YWxsKSlcblx0e1xuXHRcdGF3YWl0IGZpbmRDb21tYW5kKGNvbW1hbmQsIHJ1bnRpbWUudG1wRGlyKVxuXHRcdFx0LmNhdGNoKGVyciA9PiBudWxsKVxuXHRcdFx0LnRoZW4oYmluID0+XG5cdFx0XHR7XG5cdFx0XHRcdC8vY29uc29sZS5kZWJ1Zyhjb21tYW5kLCBgPT5gLCBiaW4pO1xuXHRcdFx0XHRpZiAoYmluKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Y29tbWFuZCA9IGJpbjtcblx0XHRcdFx0XHRjbWRfZXhpc3RzID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjbWRfZXhpc3RzID0gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0O1xuXHR9XG5cblx0aWYgKCFjbWRfZXhpc3RzKVxuXHR7XG5cdFx0YXdhaXQgYmluRXhpc3RzKGNvbW1hbmQpXG5cdFx0XHQuY2F0Y2goZSA9PiBudWxsKVxuXHRcdFx0LnRoZW4oYm9vbCA9PiB7XG5cblx0XHRcdFx0aWYgKGJvb2wpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjb25zb2xlU2hvdy53YXJuKGBmb3VuZCBjb21tYW5kICcke2NvbW1hbmR9JywgYnV0IGl0IG1heWJlIG5vdCBhIG1vZHVsZSBiaW5gKVxuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGNvbnNvbGVTaG93Lndhcm4oYGNvbW1hbmQgbm90IGZvdW5kOiAke2NvbW1hbmR9LCBtYXliZSB3aWxsIG5vdCBjYWxsYWJsZWApXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0O1xuXHR9XG5cblx0bGV0IGVudiA9IHJ1bnRpbWUuZW52ID0gYXdhaXQgaGFuZGxlRW52KGFyZ3YsIHJ1bnRpbWUpO1xuXG5cdGNvbnNvbGUudGltZShgZXhlY2ApO1xuXG5cdGNvbnNvbGUuZGVidWcoYFtDV0RdYCwgYXJndi5jd2QpO1xuXHRjb25zb2xlLmRlYnVnKGBbRVhFQ11gLCBjb21tYW5kLCBhcmd2WyctLSddKTtcblx0YXdhaXQgY3Jvc3NTcGF3bkV4dHJhKGNvbW1hbmQsIGFyZ3ZbJy0tJ10sIHtcblx0XHRzdGRpbzogJ2luaGVyaXQnLFxuXHRcdGVudixcblx0XHRjd2Q6IGFyZ3YuY3dkLFxuXHR9KVxuXHRcdC5jYXRjaChlID0+IHtcblxuXHRcdFx0aWYgKGUuY29kZSA9PT0gJ0VOT0VOVCcpXG5cdFx0XHR7XG5cdFx0XHRcdGNvbnNvbGVTaG93Lm1hZ2VudGEuZXJyb3IoYGNvbW1hbmQgbm90IGZvdW5kOiAke2NvbW1hbmR9YCk7XG5cdFx0XHRcdC8vY29uc29sZS5lcnJvcihlKTtcblx0XHRcdFx0Y29uc29sZS50aW1lRW5kKGBleGVjYCk7XG5cdFx0XHRcdGNvbnNvbGUudGltZUVuZChsYWJlbCk7XG5cdFx0XHRcdHByb2Nlc3MuZXhpdCgxKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuXHRcdH0pXG5cdDtcblxuXHRjb25zb2xlLnRpbWVFbmQoYGV4ZWNgKTtcblxuXHRjb25zb2xlLnRpbWUoYHJlbW92ZSB0ZW1wIHBhY2thZ2VgKTtcblx0YXdhaXQgcmVtb3ZlKHJ1bnRpbWUudG1wRGlyKTtcblx0Y29uc29sZS50aW1lRW5kKGByZW1vdmUgdGVtcCBwYWNrYWdlYCk7XG5cblx0Y29uc29sZS50aW1lRW5kKGxhYmVsKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgWVBYO1xuIl19
